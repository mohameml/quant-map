---
id: "four-boxes-game"
title: "The Four Boxes Game"
difficulty: "Medium"
patterns: ["random-variables"]
tags: ["expected-value", "fair-game", "strategy"]
---

## Problem

Let's play a game. There are four sealed boxes. There is 100 euros in one box and the others are empty. A player can pay $X$ to open a box and take the contents as many times as they like. Assuming this is a fair game, what is the value of $X$?

## Hints

<Hint n={1}>
    The 100 euros is equally likely to be in any of the 4 boxes. Compute the
    probability that the player finds it on the 1st, 2nd, 3rd, or 4th try.
</Hint>

<Hint n={2}>
    Write the expected payoff as a function of $X$, then set it equal to zero
    (fair game condition) and solve for $X$.
</Hint>

## Solution

We need to find the fair price $X$ such that the expected gain of the player is zero.

**Optimal strategy:** The player opens boxes one by one. If they find the 100 euros, they stop. Otherwise, they continue.

The 100 euros is equally likely to be in any of the 4 boxes.

- With probability $\dfrac{1}{4}$, the player finds 100 euros on the **1st try**. They pay $X$ and gain $100 - X$.
- With probability $\dfrac{3}{4} \times \dfrac{1}{3} = \dfrac{1}{4}$, they find it on the **2nd try**. They pay $2X$ and gain $100 - 2X$.
- With probability $\dfrac{3}{4} \times \dfrac{2}{3} \times \dfrac{1}{2} = \dfrac{1}{4}$, they find it on the **3rd try**. They pay $3X$ and gain $100 - 3X$.
- With probability $\dfrac{3}{4} \times \dfrac{2}{3} \times \dfrac{1}{2} \times 1 = \dfrac{1}{4}$, they find it on the **4th try**. They pay $4X$ and gain $100 - 4X$.

**Expected value of the payoff:**

$$
E = \frac{1}{4}(100 - X) + \frac{1}{4}(100 - 2X) + \frac{1}{4}(100 - 3X) + \frac{1}{4}(100 - 4X)
$$

$$
E = 100 - \frac{X(1+2+3+4)}{4} = 100 - \frac{10X}{4} = 100 - \frac{5X}{2}
$$

Setting $E = 0$ for a fair game:

$$
100 - \frac{5X}{2} = 0 \implies \boxed{X = 40}
$$
