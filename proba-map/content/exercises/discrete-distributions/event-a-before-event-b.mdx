---
id: "event-a-before-event-b"
title: "Event A Before Event B"
difficulty: "Medium"
patterns: ["discrete-distributions"]
tags:
    [
        "probability",
        "stopping-time",
        "geometric-series",
        "independent-trials",
        "first-occurrence",
    ]
---

## Exercise

Let $(X_n)_{n \geq 1}$ be a sequence of i.i.d. random variables taking values in the set $\{A, B, C\}$, with:

$$
\mathbb{P}(X_1 = A) = p_A, \quad \mathbb{P}(X_1 = B) = p_B, \quad \mathbb{P}(X_1 = C) = p_C
$$

where $p_A, p_B, p_C \in [0,1]$ and $p_A + p_B + p_C = 1$ (with $p_A > 0$ and $p_B > 0$).

The experiment is repeated until either $A$ or $B$ is observed. Calculate the probability that $A$ appears _before_ $B$.

## Hint

Express the event $\{A \text{ before } B\}$ as a disjoint union of events where the first $n-1$ observations are $C$ and the $n$-th observation is $A$.

## Hint

Use the independence of the $(X_n)$ to compute $\mathbb{P}(X_1 = C, \dots, X_{n-1} = C, X_n = A)$ and sum over all $n \geq 1$ using a geometric series.

## Solution

The probability that $A$ appears _before_ $B$ is equivalent to $\mathbb{P}(T_A < T_B)$, where:

$$
T_A = \inf\{n \geq 1 : X_n = A\}, \quad T_B = \inf\{n \geq 1 : X_n = B\}
$$

We consider the event $\{T_A < T_B\}$: it occurs if and only if there exists $n \geq 1$ such that the first $n-1$ observations are $C$ and the $n$-th observation is $A$. Thus, we have the disjoint union:

$$
\{T_A < T_B\} = \bigcup_{n=1}^{\infty} \{X_1 = C, \dots, X_{n-1} = C, X_n = A\}
$$

By independence of the $(X_n)$:

$$
\mathbb{P}(X_1 = C, \dots, X_{n-1} = C, X_n = A) = (p_C)^{n-1} p_A
$$

Therefore:

$$
\mathbb{P}(T_A < T_B) = \sum_{n=1}^{\infty} (p_C)^{n-1} p_A = p_A \sum_{n=0}^{\infty} (p_C)^n
$$

Since $0 \leq p_C < 1$ (because $p_A + p_B > 0$), the geometric series converges and:

$$
\sum_{n=0}^{\infty} (p_C)^n = \frac{1}{1 - p_C}
$$

We obtain:

$$
\mathbb{P}(T_A < T_B) = \frac{p_A}{1 - p_C}
$$

Finally, since $1 - p_C = p_A + p_B$, we conclude:

$$
\boxed{\mathbb{P}(A \text{ before } B) = \mathbb{P}(T_A < T_B) = \frac{p_A}{p_A + p_B}}
$$
