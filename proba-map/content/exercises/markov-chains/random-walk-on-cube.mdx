---
id: "random-walk-on-cube"
title: "Random Walk on a Cube"
difficulty: "Medium"
patterns: ["markov-chains"]
tags: ["markov-chains", "absorption-time", "symmetry", "random-walk"]
---

## Problem

Starting from one vertex of a cube, and moving randomly to an adjacent vertex at each step (with uniform probability), what is the expected number of steps needed to reach the vertex diagonally opposite to the starting point?

## Hints

<Hint n={1}>
    Use symmetry to classify the 8 vertices into types based on their distance
    from the target vertex: Type 0 (start, distance 3), Type 1 (distance 2),
    Type 2 (distance 1), Type 3 (target, absorbing).
</Hint>

<Hint n={2}>
    Each vertex of a cube has exactly 3 neighbors. From Type 0, all 3 neighbors
    are Type 1. From Type 1, one neighbor is Type 0 and two are Type 2. From
    Type 2, two neighbors are Type 1 and one is Type 3. Set up the absorption
    time equations.
</Hint>

## Solution

**Reminder — Markov chain absorption time:**

For a Markov chain with transient states $T$ and absorbing state $A$, the mean absorption time $\tau_i$ from state $i \in T$ satisfies:

$$
\tau_i = 1 + \sum_{j \in T} P_{ij} \tau_j
$$

**Modeling by symmetry:**

The cube has 8 vertices. By symmetry, we classify the vertices by their distance to the target vertex (the one diagonally opposite the start):

- **Type 0**: the starting vertex (distance 3 from the target)
- **Type 1**: the 3 vertices adjacent to the start (distance 2 from the target)
- **Type 2**: the 3 vertices at distance 2 from the start (distance 1 from the target)
- **Type 3**: the opposite/target vertex (distance 0 — absorbing state)

**System of equations:**

Let $E_i$ be the expected number of steps to reach the target from a vertex of Type $i$.

**For Type 0:**

$$
E_0 = 1 + 1 \cdot E_1 = 1 + E_1
$$

**For Type 1:**

$$
E_1 = 1 + \frac{1}{3} E_0 + \frac{2}{3} E_2
$$

**For Type 2:**

$$
E_2 = 1 + \frac{2}{3} E_1 + \frac{1}{3} \cdot 0 = 1 + \frac{2}{3} E_1
$$

**Solving:**

From the third equation:

$$
E_2 = 1 + \frac{2}{3} E_1
$$

Substituting into the second equation:

$$
E_1 = 1 + \frac{1}{3} E_0 + \frac{2}{3} \left( 1 + \frac{2}{3} E_1 \right)
$$

$$
E_1 = 1 + \frac{1}{3} E_0 + \frac{2}{3} + \frac{4}{9} E_1
$$

$$
\frac{5}{9} E_1 = \frac{5}{3} + \frac{1}{3} E_0
$$

$$
E_1 = 3 + \frac{3}{5} E_0
$$

From the first equation $E_0 = 1 + E_1$:

$$
E_0 = 1 + 3 + \frac{3}{5} E_0
$$

$$
\frac{2}{5} E_0 = 4
$$

$$
\boxed{E_0 = 10}
$$

The expected number of steps to reach the opposite vertex is **10 steps**.
