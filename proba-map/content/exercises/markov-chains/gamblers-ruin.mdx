---
id: "gamblers-ruin"
title: "Gambler's Ruin"
difficulty: "Medium"
patterns: ["markov-chains"]
tags:
    [
        "probability",
        "markov-chains",
        "recursive-equations",
        "random-walk",
        "absorbing-states",
    ]
---

## Exercise

A gambler has 2 euros. At each turn, they flip a fair coin:

- **Heads:** they win 1 euro,
- **Tails:** they lose 1 euro.

They stop playing if they reach 0 or 4 euros.

**Question:** What is the probability that they reach 4 euros before falling to 0?

## Hint

Model the gambler's capital as a Markov chain with states $\{0, 1, 2, 3, 4\}$. Let $u_i$ be the probability of reaching 4 before 0, starting from state $i$.

## Hint

Write a recursive equation for $u_i$ based on the transitions from state $i$. Use the boundary conditions $u_0 = 0$ and $u_4 = 1$.

## Solution

We model the gambler's capital $(X_n)_{n \in \mathbb{N}}$ as a discrete-time Markov chain with states:

$$
\{0, 1, 2, 3, 4\}
$$

- The states $0$ and $4$ are **absorbing**: if reached, the game stops.
- The states $1, 2, 3$ are **transient** with transitions:

$$
\mathbb{P}(i \to i+1) = \frac{1}{2}, \quad \mathbb{P}(i \to i-1) = \frac{1}{2}
$$

Let $u_i := \mathbb{P}(\text{reach } 4 \text{ before } 0 \mid X_0 = i)$ be the probability of winning starting from $i$ euros.

The boundary conditions are:

$$
u_0 = 0 \quad \text{(immediate defeat)}, \quad u_4 = 1 \quad \text{(immediate victory)}
$$

For $i = 1, 2, 3$, we have:

$$
u_i = \frac{1}{2} u_{i-1} + \frac{1}{2} u_{i+1}
$$

This is an equation of the form:

$$
u_{i+1} - 2u_i + u_{i-1} = 0
$$

which has as its general solution an affine function: $u_i = ai + b$.

Imposing the boundary conditions:

$$
\begin{cases}
u_0 = 0 = a \cdot 0 + b = b \Rightarrow b = 0 \\
u_4 = 1 = a \cdot 4 + 0 \Rightarrow a = \frac{1}{4}
\end{cases}
$$

Therefore:

$$
u_i = \frac{i}{4}
$$

In particular:

$$
\boxed{u_2 = \frac{2}{4} = \frac{1}{2}}
$$
